# Coturn TURN Server Configuration for novusmesh

# Listener settings
listening-port=3478
tls-listening-port=5349

# Use fingerprint for STUN
fingerprint

# Long-term credential mechanism
lt-cred-mech

# Use auth secret (shared with control plane)
use-auth-secret
static-auth-secret=${TURN_SECRET}

# Realm
realm=novusmesh

# Server name for logs
server-name=novusmesh-turn

# Total quota of allocations
total-quota=100

# Max bytes per second per allocation
bps-capacity=0

# Stale nonce lifetime (seconds)
stale-nonce=600

# Disallow multicast peers
no-multicast-peers

# Disable CLI
no-cli

# Log to stdout
log-file=stdout

# Verbose logging (comment out in production)
# verbose

# Relay port range (must be accessible from internet)
min-port=49152
max-port=65535

# External IP (uncomment and set in production)
# external-ip=YOUR_PUBLIC_IP

# Disallow peers on well-known ports
denied-peer-ip=0.0.0.0-0.255.255.255
denied-peer-ip=10.0.0.0-10.255.255.255
denied-peer-ip=100.64.0.0-100.127.255.255
denied-peer-ip=127.0.0.0-127.255.255.255
denied-peer-ip=169.254.0.0-169.254.255.255
denied-peer-ip=172.16.0.0-172.31.255.255
denied-peer-ip=192.0.0.0-192.0.0.255
denied-peer-ip=192.0.2.0-192.0.2.255
denied-peer-ip=192.88.99.0-192.88.99.255
denied-peer-ip=192.168.0.0-192.168.255.255
denied-peer-ip=198.18.0.0-198.19.255.255
denied-peer-ip=198.51.100.0-198.51.100.255
denied-peer-ip=203.0.113.0-203.0.113.255
denied-peer-ip=240.0.0.0-255.255.255.255

# Allow loopback for testing (remove in production)
# allowed-peer-ip=127.0.0.1
